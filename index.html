<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>LEVEL 45 ‚Äî Luki13</title>
  <style>
    :root{
      --bg:#070A10;
      --panel:#0B1020;
      --text:#E7EEF8;
      --muted:#9FB0C8;
      --accent:#57F287; /* green-ish */
      --accent2:#6CB6FF; /* blue-ish */
      --warn:#FF5C7A;
      --line:rgba(255,255,255,.08);
      --shadow: 0 14px 40px rgba(0,0,0,.45);
      --radius: 18px;
      --mono: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
      --sans: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, "Apple Color Emoji","Segoe UI Emoji";
    }
    *{box-sizing:border-box}
    body{
      margin:0;
      background: radial-gradient(1200px 700px at 20% 10%, rgba(108,182,255,.12), transparent 60%),
                  radial-gradient(1000px 650px at 80% 20%, rgba(87,242,135,.10), transparent 60%),
                  radial-gradient(900px 600px at 50% 90%, rgba(255,92,122,.08), transparent 60%),
                  var(--bg);
      color:var(--text);
      font-family:var(--sans);
      line-height:1.5;
    }
    .wrap{max-width:980px;margin:0 auto;padding:24px}
    .top{
      display:flex;gap:14px;align-items:center;justify-content:space-between;
      margin-bottom:18px;
    }
    .badge{
      font-family:var(--mono);
      font-size:12px;
      color:var(--muted);
      border:1px solid var(--line);
      padding:8px 10px;
      border-radius:999px;
      background:rgba(255,255,255,.03);
      display:flex;gap:8px;align-items:center;
    }
    .dot{width:8px;height:8px;border-radius:50%;background:var(--accent);box-shadow:0 0 18px rgba(87,242,135,.4)}
    h1{
      font-size:42px;margin:18px 0 6px;
      letter-spacing:.2px;
    }
    .subtitle{color:var(--muted);max-width:72ch}
    .grid{
      display:grid;
      grid-template-columns: 1.1fr .9fr;
      gap:16px;
      margin-top:18px;
    }
    @media (max-width:860px){ .grid{grid-template-columns:1fr} h1{font-size:34px} }
    .card{
      background: linear-gradient(180deg, rgba(255,255,255,.05), rgba(255,255,255,.02));
      border:1px solid var(--line);
      border-radius:var(--radius);
      box-shadow:var(--shadow);
      padding:18px;
      overflow:hidden;
      position:relative;
    }
    .card:before{
      content:"";
      position:absolute;inset:-2px;
      background: radial-gradient(600px 200px at 20% 0%, rgba(108,182,255,.16), transparent 55%),
                  radial-gradient(480px 180px at 80% 10%, rgba(87,242,135,.12), transparent 55%);
      opacity:.8;
      pointer-events:none;
      filter: blur(0px);
      z-index:0;
    }
    .card > *{position:relative;z-index:1}
    .mono{font-family:var(--mono)}
    .btnrow{display:flex;gap:10px;flex-wrap:wrap;margin-top:14px}
    button{
      appearance:none;border:1px solid var(--line);
      background:rgba(255,255,255,.04);
      color:var(--text);
      padding:10px 12px;
      border-radius:12px;
      cursor:pointer;
      transition:.18s ease;
      font-weight:650;
      letter-spacing:.2px;
    }
    button:hover{transform:translateY(-1px);border-color:rgba(255,255,255,.18)}
    .primary{
      border-color: rgba(87,242,135,.35);
      background: linear-gradient(180deg, rgba(87,242,135,.18), rgba(87,242,135,.08));
    }
    .danger{
      border-color: rgba(255,92,122,.35);
      background: linear-gradient(180deg, rgba(255,92,122,.18), rgba(255,92,122,.08));
    }
    .small{font-size:12px;color:var(--muted)}
    .terminal{
      font-family:var(--mono);
      font-size:13px;
      background:rgba(0,0,0,.25);
      border:1px solid var(--line);
      border-radius:14px;
      padding:14px;
      min-height:160px;
      white-space:pre-wrap;
    }
    .progress{height:10px;background:rgba(255,255,255,.06);border-radius:999px;overflow:hidden;border:1px solid var(--line)}
    .bar{height:100%;background:linear-gradient(90deg, rgba(108,182,255,.85), rgba(87,242,135,.85));width:0%}
    .kpi{
      display:grid;
      grid-template-columns:1fr 1fr;
      gap:12px;
      margin-top:12px;
    }
    @media (max-width:520px){ .kpi{grid-template-columns:1fr} }
    .kpi .item{
      border:1px solid var(--line);
      background:rgba(255,255,255,.03);
      border-radius:14px;
      padding:12px;
    }
    .label{color:var(--muted);font-size:12px}
    .value{font-weight:750;margin-top:3px}
    .sep{height:1px;background:var(--line);margin:14px 0}
    .pill{
      display:inline-flex;gap:8px;align-items:center;
      font-family:var(--mono);
      padding:6px 10px;border-radius:999px;
      border:1px solid var(--line);
      background:rgba(255,255,255,.03);
      color:var(--muted);
      font-size:12px;
      margin-right:8px;margin-top:8px;
    }
    .pill strong{color:var(--text);font-weight:800}
    .hidden{display:none !important}
    .quiz q{quotes:none}
    .question{font-weight:800;margin:0 0 10px}
    .answers{display:grid;gap:10px}
    .answer{
      text-align:left;
      padding:12px;
      border-radius:14px;
      border:1px solid var(--line);
      background:rgba(255,255,255,.03);
      cursor:pointer;
      transition:.15s ease;
      font-family:var(--sans);
      font-weight:650;
    }
    .answer:hover{border-color:rgba(255,255,255,.18);transform:translateY(-1px)}
    .toast{
      position:fixed;
      left:50%;bottom:18px;transform:translateX(-50%);
      background:rgba(8,12,22,.88);
      border:1px solid var(--line);
      padding:12px 14px;
      border-radius:14px;
      box-shadow:var(--shadow);
      max-width: 92vw;
      z-index:50;
      display:none;
      font-family:var(--mono);
      color:var(--text);
    }
    .toast.show{display:block;animation:pop .18s ease}
    @keyframes pop{from{transform:translateX(-50%) translateY(6px);opacity:.2}to{transform:translateX(-50%) translateY(0);opacity:1}}
    .final{
      border:1px solid rgba(87,242,135,.25);
      background: linear-gradient(180deg, rgba(87,242,135,.12), rgba(255,255,255,.02));
    }
    .glow{
      color:var(--accent);
      text-shadow:0 0 18px rgba(87,242,135,.35);
      font-family:var(--mono);
      font-weight:900;
      letter-spacing:.6px;
    }
    a{color:var(--accent2);text-decoration:none}
    a:hover{text-decoration:underline}
  </style>
</head>

<body>
<div class="wrap">
  <div class="top">
    <div class="badge"><span class="dot"></span><span class="mono">CO-OP ONLINE</span></div>
    <div class="badge"><span class="mono">PLAYER:</span> <strong class="mono">Luki13</strong></div>
  </div>

  <h1>LEVEL 45 UNLOCKED</h1>
  <p class="subtitle">
    No hearts. No poems. Just a perfectly functional, slightly chaotic, high-performing team.
    Welcome to the <span class="mono">Compatibility Stress Test</span>.
  </p>

  <div class="grid">
    <!-- LEFT: Boot + Controls -->
    <div class="card">
      <div class="mono small">SYSTEM CONSOLE</div>
      <div class="sep"></div>
      <div id="terminal" class="terminal"></div>
      <div class="sep"></div>
      <div class="mono small">BOOT PROGRESS</div>
      <div class="progress" aria-label="boot progress">
        <div id="bootBar" class="bar"></div>
      </div>

      <div class="btnrow">
        <button class="primary" id="btnBoot">‚ñ∂ START MISSION</button>
        <button id="btnSkip">Skip boot (impatient mode)</button>
        <button class="danger" id="btnPanic">Panic button</button>
      </div>

      <p class="small" style="margin-top:10px">
        Tip: swap text + jokes freely. This is a gift, not a software release. (Or is it?)
      </p>
    </div>

    <!-- RIGHT: Stats -->
    <div class="card">
      <div class="mono small">PLAYER STATS</div>
      <div class="sep"></div>

      <div class="kpi">
        <div class="item">
          <div class="label mono">Intelligence</div>
          <div class="value">‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñë</div>
        </div>
        <div class="item">
          <div class="label mono">Sarcasm Damage</div>
          <div class="value">‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà</div>
        </div>
        <div class="item">
          <div class="label mono">Patience</div>
          <div class="value">‚ñà‚ñà‚ñà‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë</div>
        </div>
        <div class="item">
          <div class="label mono">Tech Knowledge</div>
          <div class="value">‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà</div>
        </div>
      </div>

      <div class="sep"></div>
      <div class="mono small">ACHIEVEMENTS</div>
      <div>
        <span class="pill">üèÜ <strong>Router Whisperer</strong></span>
        <span class="pill">üèÜ <strong>Patch Tuesday Survivor</strong></span>
        <span class="pill">üèÜ <strong>Mario Kart Rival</strong></span>
        <span class="pill">üèÜ <strong>Co-op Carry</strong></span>
      </div>

      <div class="sep"></div>
      <div class="mono small">PATCH NOTES v45.0</div>
      <div class="terminal" style="min-height:auto">
- Improved life stability
- Reduced hair density (minor)
- Added random joint noises (feature, not bug)
- Increased appreciation for quiet evenings
- Co-op performance remains elite
      </div>
    </div>
  </div>

  <!-- QUIZ -->
  <div id="quizCard" class="card hidden" style="margin-top:16px">
    <div class="mono small">COMPATIBILITY STRESS TEST</div>
    <div class="sep"></div>

    <div id="quiz">
      <p class="small">Choose wisely. Wrong answers may be mocked in the final report.</p>
      <div class="sep"></div>

      <div class="question" id="qText"></div>
      <div class="answers" id="answers"></div>

      <div class="sep"></div>
      <div class="mono small">TEST PROGRESS</div>
      <div class="progress">
        <div id="quizBar" class="bar"></div>
      </div>
      <p class="small" id="qMeta" style="margin-top:8px"></p>
    </div>
  </div>

  <!-- FINAL -->
  <div id="finalCard" class="card final hidden" style="margin-top:16px">
    <div class="mono small">FINAL REPORT</div>
    <div class="sep"></div>
    <div class="terminal" id="finalText"></div>
    <div class="sep"></div>

    <div class="btnrow">
      <button class="primary" id="btnReveal">üèÜ REVEAL REWARD</button>
      <button id="btnRestart">‚Üª Restart test (because you love chaos)</button>
    </div>

    <p class="small" style="margin-top:10px">
      Optional: set a timed reveal at <span class="mono">20:00</span> (you can change it in the script).
    </p>
  </div>

  <p class="small" style="margin-top:18px;color:var(--muted)">
    Made with: sarcasm, teamwork, and zero unnecessary romance. <span class="mono">¬© You</span>
  </p>
</div>

<div id="toast" class="toast"></div>

<script>
  // ====== CUSTOMISE HERE ======
  const PLAYER = "Luki13";
  const COOP_PARTNER = "You"; // change to your nickname if you want
  const REVEAL_TIME = "20:00"; // optional time gate
  const DINNER_HINT = "Dinner unlocked. Dress code: whatever makes you feel like a boss.";

  // Quiz questions (ironico/scemo)
  const QUESTIONS = [
    {
      q: "When the Wi-Fi stops working, who do we blame?",
      a: [
        {t:"The provider", ok:false, msg:"Classic. Also wrong. But emotionally satisfying."},
        {t:"The government", ok:false, msg:"Bold. Unhelpful. 10/10 entertainment."},
        {t:"Each other", ok:true,  msg:"Correct. Teamwork means shared responsibility... and blame."},
        {t:"Mercury retrograde", ok:false, msg:"You are the chaos agent. Respect."},
      ]
    },
    {
      q: "Our real superpower is:",
      a: [
        {t:"Emotional maturity", ok:false, msg:"Cute theory. Next."},
        {t:"Tactical logistics", ok:true, msg:"Correct. Co-op mode: efficient, slightly terrifying."},
        {t:"Passive aggressive silence", ok:false, msg:"Effective? yes. Healthy? questionable."},
        {t:"Ordering the right food first time", ok:false, msg:"Mythical. Nobody has this power."},
      ]
    },
    {
      q: "What is Luki13‚Äôs signature move?",
      a: [
        {t:"Fixing things without reading the manual", ok:true, msg:"Correct. Manuals are for the weak."},
        {t:"Saying 'It‚Äôs fine' when it‚Äôs not fine", ok:false, msg:"That‚Äôs a different class of player."},
        {t:"Turning it off and on again‚Ä¶ with confidence", ok:true, msg:"Also correct. The sacred ritual."},
        {t:"Buying a cable 'just in case'", ok:true, msg:"Correct. Preparedness level: elite."},
      ],
      // special: multiple correct answers allowed
      multi: true
    },
    {
      q: "If we were a video game genre, we‚Äôd be:",
      a: [
        {t:"Co-op strategy (with occasional rage-quit)", ok:true, msg:"Correct. Strong teamwork. Mild drama."},
        {t:"Romantic visual novel", ok:false, msg:"Absolutely not. Delete."},
        {t:"Survival horror (IKEA edition)", ok:true, msg:"Correct. Some furniture fights were real."},
        {t:"Farming simulator", ok:false, msg:"Unless the farm is made of deadlines."},
      ],
      multi: true
    }
  ];

  // ====== BOOT SEQUENCE ======
  const term = document.getElementById("terminal");
  const bootBar = document.getElementById("bootBar");
  const quizCard = document.getElementById("quizCard");
  const finalCard = document.getElementById("finalCard");
  const toast = document.getElementById("toast");

  function showToast(msg){
    toast.textContent = msg;
    toast.classList.add("show");
    clearTimeout(showToast._t);
    showToast._t = setTimeout(()=>toast.classList.remove("show"), 2100);
  }

  function typeLines(lines, speed=18){
    term.textContent = "";
    bootBar.style.width = "0%";
    let i=0, char=0, current = "";
    return new Promise(resolve=>{
      const timer = setInterval(()=>{
        if(i >= lines.length){ clearInterval(timer); resolve(); return; }
        const line = lines[i];
        current = term.textContent;
        if(char < line.length){
          term.textContent = current + line[char];
          char++;
        } else {
          term.textContent = current + "\n";
          i++; char=0;
          bootBar.style.width = Math.min(100, Math.round((i/lines.length)*100)) + "%";
        }
      }, speed);
    });
  }

  const bootLines = [
    "SYSTEM BOOTING...",
    `Loading player profile: ${PLAYER}`,
    `Verifying co-op partner: ${COOP_PARTNER} ... OK`,
    "Running diagnostics...",
    " ‚Ä¢ Sarcasm module: ONLINE",
    " ‚Ä¢ Patience module: LIMITED EDITION",
    " ‚Ä¢ Back warranty: EXPIRED (expected)",
    "Optimising birthday protocols...",
    "Ready."
  ];

  document.getElementById("btnBoot").addEventListener("click", async ()=>{
    await typeLines(bootLines, 14);
    quizCard.classList.remove("hidden");
    quizCard.scrollIntoView({behavior:"smooth", block:"start"});
    startQuiz();
  });

  document.getElementById("btnSkip").addEventListener("click", ()=>{
    term.textContent = bootLines.join("\n");
    bootBar.style.width = "100%";
    quizCard.classList.remove("hidden");
    quizCard.scrollIntoView({behavior:"smooth", block:"start"});
    startQuiz();
  });

  document.getElementById("btnPanic").addEventListener("click", ()=>{
    showToast("Panic acknowledged. Turning it off and on again‚Ä¶");
  });

  // ====== QUIZ LOGIC ======
  let qi = 0;
  let score = 0;
  let multiSelected = new Set();

  const qText = document.getElementById("qText");
  const answers = document.getElementById("answers");
  const quizBar = document.getElementById("quizBar");
  const qMeta = document.getElementById("qMeta");

  function startQuiz(){
    qi = 0; score = 0; multiSelected = new Set();
    finalCard.classList.add("hidden");
    renderQ();
  }

  function renderQ(){
    const total = QUESTIONS.length;
    const item = QUESTIONS[qi];
    qText.textContent = item.q + (item.multi ? " (select all that apply)" : "");
    answers.innerHTML = "";
    qMeta.textContent = `Question ${qi+1} of ${total} ‚Ä¢ Score: ${score}`;
    quizBar.style.width = Math.round((qi/total)*100) + "%";

    item.a.forEach((opt, idx)=>{
      const btn = document.createElement("button");
      btn.className = "answer";
      btn.textContent = opt.t;
      btn.addEventListener("click", ()=>pickAnswer(idx));
      answers.appendChild(btn);
    });

    if(item.multi){
      const done = document.createElement("button");
      done.className = "primary";
      done.textContent = "Confirm selections";
      done.style.marginTop = "10px";
      done.addEventListener("click", ()=>confirmMulti());
      answers.appendChild(done);
      multiSelected.clear();
    }
  }

  function pickAnswer(idx){
    const item = QUESTIONS[qi];
    const opt = item.a[idx];

    if(item.multi){
      // toggle selection
      if(multiSelected.has(idx)){
        multiSelected.delete(idx);
        showToast("Deselected.");
      } else {
        multiSelected.add(idx);
        showToast("Selected.");
      }
      return;
    }

    // single answer
    if(opt.ok){ score += 1; showToast("‚úÖ Correct."); }
    else { showToast("‚ùå Wrong."); }

    showToast(opt.msg);
    nextQ();
  }

  function confirmMulti(){
    const item = QUESTIONS[qi];
    if(multiSelected.size === 0){
      showToast("Pick at least one answer, you coward.");
      return;
    }
    // Score: +1 if any correct selected, +1 bonus if no incorrect selected.
    let anyCorrect=false, anyWrong=false;
    multiSelected.forEach(idx=>{
      if(item.a[idx].ok) anyCorrect = true;
      else anyWrong = true;
    });

    if(anyCorrect) score += 1;
    if(anyCorrect && !anyWrong) score += 1;

    showToast(anyCorrect ? "‚úÖ Acceptable." : "‚ùå Chaos only.");
    showToast(anyWrong ? "You also selected nonsense. Respect." : "No nonsense selected. Rare.");
    nextQ();
  }

  function nextQ(){
    qi++;
    if(qi >= QUESTIONS.length){
      quizBar.style.width = "100%";
      showFinal();
      return;
    }
    renderQ();
  }

  // ====== FINAL REPORT + REWARD ======
  const finalText = document.getElementById("finalText");
  const btnReveal = document.getElementById("btnReveal");

  function showFinal(){
    finalCard.classList.remove("hidden");
    finalCard.scrollIntoView({behavior:"smooth", block:"start"});

    const pct = Math.round((score / (QUESTIONS.length+2)) * 100); // approx because multi has bonus
    const verdict =
      score >= 5 ? "SYSTEM STABLE. CO-OP ELITE." :
      score >= 3 ? "SYSTEM MOSTLY STABLE. OCCASIONAL GLITCHES (CUTE)." :
      "SYSTEM CHAOTIC. STILL OP SOMEHOW.";

    finalText.textContent =
`ANALYSIS COMPLETE
Player: ${PLAYER}
Compatibility Score: ${pct}%
Verdict: ${verdict}

Notes:
- Sarcasm levels within safe range (barely)
- Team synergy: high
- Recommended action: celebrate Level 45 immediately`;

    btnReveal.disabled = false;
    btnReveal.textContent = "üèÜ REVEAL REWARD";
  }

  function isAfterRevealTime(){
    // Optional: only allow reveal after a time. If you don't want this, return true always.
    // return true;
    const now = new Date();
    const [hh, mm] = REVEAL_TIME.split(":").map(Number);
    const gate = new Date(now);
    gate.setHours(hh, mm, 0, 0);
    return now >= gate;
  }

  btnReveal.addEventListener("click", ()=>{
    if(!isAfterRevealTime()){
      showToast(`Reward locked until ${REVEAL_TIME}. Nice try.`);
      return;
    }
    btnReveal.disabled = true;
    const reward =
`üèÜ ACHIEVEMENT UNLOCKED: "45 YEARS SURVIVED"

REWARD:
${DINNER_HINT}

Mission briefing:
- Date: 13 April
- Objective: eat well, laugh, be annoying together
- Optional side quest: dessert (highly recommended)

<END>`;
    finalText.textContent = reward;
    btnReveal.textContent = "Unlocked ‚úÖ";
    showToast("Reward unlocked. Proceed responsibly.");
  });

  document.getElementById("btnRestart").addEventListener("click", ()=>{
    startQuiz();
    quizCard.scrollIntoView({behavior:"smooth", block:"start"});
  });

  // initial terminal content
  term.textContent = "Press ‚ñ∂ START MISSION to begin.\n(Or skip boot if you're impatient.)";
</script>
</body>
</html>
